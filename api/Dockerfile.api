FROM python:3.11-slim

WORKDIR /app

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
COPY ./api/requirements.txt /app/requirements.txt
RUN pip install --no-cache-dir -r /app/requirements.txt

# –ö–æ–ø–∏—Ä—É–µ–º –∫–æ–¥ API
COPY ./api /app

# üëá –ö–æ–ø–∏—Ä—É–µ–º ai_worker –∏ parser
COPY ./ai_worker /app/ai_worker
COPY ./parser /app/parser

ENV PYTHONPATH=/app

CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
